<!DOCTYPE html>
<html>

    <head>
        <title>Etch-a-Sketch</title>

        <link rel="stylesheet" type="text/css" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Righteous|Skranji&display=swap" rel="stylesheet">
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    </head>

    <body>

        <center>
            <div class="container row">
                <div id="left" class="col-lg-6 col-md-6">
                    <h1>Etch-a-Sketch</h1>
                    <button onclick="makeGrid()">New grid</button>
                    <button onclick="clearGrid()">Clear</button>
                </div>
                <div id="right" class="col-lg-6 col-md-6">
                    <div id="grid-container"></div>
                </div>
            </div>
        </center>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/core.js"></script>
        <script>

            let grid = document.getElementById('grid-container');
        
            function clearGrid(){
                let boxes = document.querySelectorAll('.grid-item');
                boxes.forEach((box) => {
                    box.style.backgroundColor = '#E1E7DE';
                });
    
            }

            function makeGrid(){
                
                let gridSize = prompt("How many boxes per side should the grid have?");
                grid.innerHTML = "";

                let gridDimensions = 960 + gridSize;

                grid.style.gridTemplateColumns = "";

                for(let i = 0; i < gridSize*gridSize; i++){
                    let box = document.createElement('div');
                    box.classList.add("grid-item");

                    let boxSize = 370 / gridSize;
                    box.style.height = boxSize + "px";
                    box.style.width = boxSize + "px";

                    if(i < gridSize){
                        grid.style.gridTemplateColumns += " auto";
                    }
                    grid.appendChild(box);
                }
                
                colorBoxes();
            }

            function colorBoxes(){
                let boxes = document.querySelectorAll('.grid-item');
                boxes.forEach((box) => {
                    box.addEventListener('mouseover', (e) => {
                        e.target.style.backgroundColor = '#DBD77F'; 
                    });
                });
            }
        
        </script>

    </body>

</html>